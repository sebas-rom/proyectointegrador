import{r as o,Z as b,j as s,c as g,V as N,W as U,X as j,T as q,B as v,$ as w,al as F,a0 as h,a3 as n,a7 as d}from"./index-LqOURNGf.js";const E=()=>{const[m,i]=o.useState([]),[t,p]=o.useState(""),l=b(w,"users");o.useEffect(()=>{(async()=>{if(t===""){i([]);return}const a=F.remove(t).toLowerCase(),[x,y]=await Promise.all([h(l,n("searchableFirstName",">=",a),n("searchableFirstName","<=",a+"")),h(l,n("searchableLastName",">=",a),n("searchableLastName","<=",a+""))]),u=(await Promise.all([d(x),d(y)])).flatMap(r=>r.docs.map(c=>({...c.data(),id:c.id}))),S=[...new Set(u.map(r=>r.id))].map(r=>u.find(c=>c.id===r));i(S)})().catch(a=>console.error("Error fetching users:",a))},[t]);const f=e=>{p(e.target.value)};return s.jsxs(s.Fragment,{children:[s.jsx(g,{label:"Search Users",value:t,onChange:f}),m.map(e=>s.jsx("div",{children:e.uid!==N.currentUser.uid&&s.jsxs(U,{direction:"row",alignItems:"center",spacing:2,children:[s.jsx(j,{userName:e.firstName,size:"medium",photoURL:e.photoURL}),s.jsx(q,{variant:"body1",children:e.firstName}),s.jsx(v,{children:"Send Message"})]})},e.id))]})};export{E as default};

import{g as v,a as g,c as R,q as S,l as j,o as N,b as O,r as o,j as t,B as w,d as y,s as P,e as E,f as _,N as k}from"./index-BliOBjsa.js";var x={exports:{}},C="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",D=C,F=D;function f(){}function b(){}b.resetWarningCache=f;var L=function(){function e(m,u,p,d,n,i){if(i!==F){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function r(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:b,resetWarningCache:f};return a.PropTypes=a,a};x.exports=L();var U=x.exports;const c=v(U),T=()=>{g.currentUser;const e=R(y,"messages"),r=S(e,N("createdAt"),j(100));O(r,s=>{const l=s.docs.map(h=>({...h.data(),id:h.id}));m(l)});const[a,m]=o.useState([]),u=s=>{console.log("handleOnSubmit"),s.preventDefault();const l=p.trim();y&&P(E(e),{text:l,createdAt:_()})},[p,d]=o.useState(""),n=o.useRef();o.useRef(),o.useEffect(()=>{n.current&&n.current.focus()},[n]);const i=s=>{d(s.target.value)};return t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:a.map(s=>t.jsx("li",{children:s.text},s.id))}),t.jsx("div",{className:"mb-6 mx-4",children:t.jsxs("form",{onSubmit:u,className:"flex flex-row bg-gray-200 dark:bg-coolDark-400 rounded-md px-4 py-3 z-10 max-w-screen-lg mx-auto dark:text-white shadow-md",children:[t.jsx("input",{ref:n,type:"text",value:p,onChange:i,placeholder:"Type your message here...",className:"flex-1 bg-transparent outline-none"}),t.jsx(w,{type:"submit",disabled:!p,className:"uppercase font-semibold text-sm tracking-wider text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Send"})]})})]})};T.propTypes={user:c.shape({uid:c.string,displayName:c.string,photoURL:c.string})};const B=()=>t.jsxs(t.Fragment,{children:[t.jsx(k,{}),t.jsx(T,{user:g.currentUser})]});export{B as default};
